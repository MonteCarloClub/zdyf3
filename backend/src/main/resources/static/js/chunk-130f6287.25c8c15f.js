(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-130f6287"],{"0495":function(e,n,a){"use strict";a("fc64")},"46cc":function(e,n,a){var t=a("ea90"),r=a("3ee6"),s=a("76c6"),i=a("964e"),l=a("7960"),o=a("4760"),u=r.Array,c=s("JSON","stringify"),g=l(/./.exec),p=l("".charAt),d=l("".charCodeAt),f=l("".replace),m=l(1..toString),b=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,w=function(e,n,a){var t=p(a,n-1),r=p(a,n+1);return g(h,e)&&!g(v,r)||g(v,e)&&!g(h,t)?"\\u"+m(d(e,0),16):e},y=o((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&t({target:"JSON",stat:!0,forced:y},{stringify:function(e,n,a){for(var t=0,r=arguments.length,s=u(r);t<r;t++)s[t]=arguments[t];var l=i(c,null,s);return"string"==typeof l?f(l,b,w):l}})},"5c9c":function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"sign"},[a("div",{staticClass:"sign-container"},[a("el-card",{staticClass:"sign-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("注册")]),a("router-link",{staticClass:"sign-card-header--button",attrs:{to:{name:"login"}}},[e._v(" 前往登录 ")])],1),a("el-form",{ref:"signupForm",attrs:{model:e.signup,rules:e.signupRules}},[a("el-form-item",{attrs:{label:"所在通道",prop:"channel"}},[a("el-input",{attrs:{placeholder:"请输入用户所在通道"},model:{value:e.signup.channel,callback:function(n){e.$set(e.signup,"channel",n)},expression:"signup.channel"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.signup.name,callback:function(n){e.$set(e.signup,"name",n)},expression:"signup.name"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.signup.password,callback:function(n){e.$set(e.signup,"password",n)},expression:"signup.password"}})],1),a("el-form-item",{staticStyle:{"text-align":"right"},attrs:{label:"用户角色",prop:"role"}},[a("el-radio-group",{model:{value:e.signup.role,callback:function(n){e.$set(e.signup,"role",n)},expression:"signup.role"}},e._l(e.userRoles,(function(n){return a("el-radio",{key:n.name,attrs:{label:n.name}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{disabled:!e.agree,type:"primary",loading:e.loading},on:{click:e.onSignupSubmit}},[e._v(" 注册 ")])],1)],1),a("el-checkbox",{model:{value:e.agree,callback:function(n){e.agree=n},expression:"agree"}},[e._v("我自愿承担使用本系统过程中可能出现的风险")])],1)],1)])},r=[],s=(a("0721"),a("46cc"),a("bdf9"),a("7fa7"),a("042e"),a("c189"),a("3435"),a("c24f")),i={name:"SignUp",components:{},data:function(){return{signup:{name:"",password:"",role:"user",channel:""},signupRules:{name:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],role:[{required:!0,trigger:"blur",message:"请勾选用户角色"}],channel:[{required:!0,trigger:"blur",message:"请输入用户所在通道"}]},userRoles:[{label:"普通用户",name:"user"},{label:"机构用户",name:"org"}],agree:!1,loading:!1}},methods:{onSignupSubmit:function(){var e=this;this.$refs.signupForm.validate((function(n){n&&(e.loading=!0,s["a"].signup(e.signup).then((function(n){e.$message({message:"注册成功",type:"success"}),n.certificate&&e.download(JSON.stringify(n.certificate)),e.$router.push({name:"login",query:{name:e.signup.name}})})).catch((function(n){e.$message({message:n,type:"error"})})).finally((function(){e.loading=!1})))}))},download:function(e){console.log(e);var n="certificate.cert",a=document.createElement("a"),t=new Blob([e],{type:"text/plain"});a.href=URL.createObjectURL(t),a.download=n,a.click()}}},l=i,o=(a("0495"),a("52e0")),u=Object(o["a"])(l,t,r,!1,null,"41ebb813",null);n["default"]=u.exports},fc64:function(e,n,a){}}]);
//# sourceMappingURL=chunk-130f6287.25c8c15f.js.map